{% ckan_extends %}

{% block package_metadata_author %}
{% endblock %}

{% block package_metadata_fields_maintainer %}
{% endblock %}

{% block package_metadata_fields_url %}
{% endblock %}

{% block custom_fields %}
{# This block appears at the bottom of the form, in place of the custom fields in default CKAN #}
<div class="control-group">
  <label class="control-label" for="theme-primary">{{ _("Theme") }}</label>
  <div class="controls">
    <select id="field-theme-primary" name="theme-primary" data-module="autocomplete">
      {% for theme in h.alphabetise_dict(h.themes()) %}
        <option value="{{ theme[0] }}" {% if data.get('theme-primary', '') == theme[0] %}selected="selected"{% endif %}>{{ theme[1] }}</option>
      {% endfor %}
    </select>
    {% if errors.get('theme-primary', '') %}
      <span class="error-block">
        <p class="field_error">{{errors.get('theme-primary', '')}}</p>
      </span>
    {% endif %}
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="schema-vocabulary">{{ _("Schema/Vocabulary") }}</label>
  <div class="controls">
    <select multiple id="field-schema-vocabulary" name="schema-vocabulary">
      {% for schema_id, schema_name in h.schemas().iteritems() %}
      <option value="{{ schema_id }}" {% if data.get('schema-vocabulary', '') == schema_id %}selected="selected"{% endif %}>{{ schema_name.decode("utf8") }}</option>
      {% endfor %}
    </select>
    {% if errors.get('schema-vocabulary', '') %}
    <span class="error-block">
      <p class="field_error">{{errors.get('schema-vocabulary', '')}}</p>
    </span>
    {% endif %}
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="codelist">{{ _("Code Lists") }}</label>
  <div class="controls">
    <select multiple id="field-codelist" name="codelist">
      {% for codelist_id, codelist_name in h.codelist().iteritems() %}
      <option value="{{ codelist_id }}" {% if data.get('codelist', '') == codelist_id %}selected="selected"{% endif %}>{{ codelist_name.decode("utf8") }}</option>
      {% endfor %}
    </select>
    {% if errors.get('codelist', '') %}
    <span class="error-block">
      <p class="field_error">{{errors.get('codelist', '')}}</p>
    </span>
    {% endif %}
  </div>
</div>
<div class="control-group">
  {{ _("By default, the contact details for your organisation will be displayed alongside this dataset.  You can override them for only this dataset by specifying them here.") }}
</div>
<div class="control-group">
  <label class="control-label" for="contact-name">{{ _("Contact Name") }}</label>
  <div class="controls">
    <input type="text" id="field-contact-name" name="contact-name" value="{{ data.get('contact-name','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="contact-email">{{ _("Contact Email") }}</label>
  <div class="controls">
    <input type="text" id="field-contact-email" name="contact-email" value="{{ data.get('contact-email','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="contact-phone">{{ _("Contact Phone") }}</label>
  <div class="controls">
    <input type="text" id="field-contact-phone" name="contact-phone" value="{{ data.get('contact-phone','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="foi-name">{{ _("FOI Name") }}</label>
  <div class="controls">
    <input type="text" id="field-foi-name" name="foi-name" value="{{ data.get('foi-name','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="foi-email">{{ _("FOI Email") }}</label>
  <div class="controls">
    <input type="text" id="field-foi-email" name="foi-email" value="{{ data.get('foi-email','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="foi-web">{{ _("FOI Web") }}</label>
  <div class="controls">
    <input type="text" id="field-foi-web" name="foi-web" value="{{ data.get('foi-web','') }}">
  </div>
</div>
<div class="control-group">
  <label class="control-label" for="foi-phone">{{ _("FOI Phone") }}</label>
  <div class="controls">
    <input type="text" id="field-foi-phone" name="foi-phone" value="{{ data.get('foi-phone','') }}">
  </div>
</div>
{% endblock %}

{% block package_metadata_fields_version %}
{% endblock %}

